<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Admin - El Triunfo</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
    <script>if(!localStorage.getItem('userLogged')||localStorage.getItem('userRol')!=='admin')window.location.href='index.html';</script>
</head>
<body>
    <nav class="navbar navbar-expand-lg fixed-top bg-warning" style="background:linear-gradient(90deg,#D4A017,#8B4513) !important;">
        <div class="container">
            <a class="navbar-brand fw-bold fs-3 text-white" href="dashboard.html"><span style="font-size:2rem;">ğŸª</span> EL TRIUNFO</a>
            <div class="navbar-nav ms-auto">
                <span class="navbar-text me-3" id="userRol"><span class="badge bg-success px-3 py-2 fs-6" id="rolBadge">Cargando...</span></span>
                <a href="dashboard.html" class="btn btn-outline-light btn-sm me-2">ğŸ“Š Dashboard</a>
                <a href="ventas.html" class="btn btn-success btn-sm me-2">ğŸ›’ Ventas</a>
                <button class="btn btn-danger btn-sm" onclick="logout()">ğŸšª Salir</button>
            </div>
        </div>
    </nav>
    <div class="container mt-5 pt-5">
        <div class="card border-0 shadow-lg mb-5 mx-auto" style="max-width:800px;background:rgba(255,255,255,0.95);border-radius:20px;">
            <div class="card-body text-center py-5">
                <h1 class="fw-bold mb-4" style="color:#8B4513;font-size:2.5rem;"><span style="font-size:3rem;">ğŸ”§</span> PANEL ADMINISTRADOR</h1>
                <p class="lead text-muted mb-5 fs-4">"Â¡Control total, parce!"</p>
            </div>
        </div>

        <!-- ========================================
             ğŸ“… SECCIÃ“N REINICIO DE DÃA
             ======================================== -->
        <div class="card border-0 shadow-lg mb-5 mx-auto" style="max-width:600px;background:linear-gradient(45deg,#ff6b6b,#ee5a52);border-radius:20px;color:white;">
            <div class="card-body text-center py-4">
                <h5 class="fw-bold mb-3">
                    <span style="font-size:1.5rem;">ğŸ“…</span> REINICIAR DÃA
                </h5>
                <p class="mb-2 fs-6">Guarda ventas y ganancias del dÃ­a actual</p>
                <p class="small mb-3" style="opacity:0.9;">âœ… Mantiene: Productos y Stocks<br>âŒ Limpia: Movimientos y Ventas del dÃ­a</p>
                <button class="btn btn-light btn-lg fw-bold w-100 mb-3" onclick="reiniciarDiaHandler()" style="color:#ee5a52;">
                    ğŸ”„ REINICIAR DÃA AHORA
                </button>
                <small class="d-block" style="opacity:0.8;">âš ï¸ Se guardarÃ¡ un registro permanente en el Dashboard</small>
                <hr style="opacity:0.5;">
                <small class="d-block" style="opacity:0.7;">ğŸ’¡ <strong>Tip:</strong> Abre F12 (Consola) para ver logs detallados</small>
            </div>
        </div>
        <div class="row g-4">
            <div class="col-md-6 col-lg-4"><a href="gestion-productos.html" class="card border-0 shadow h-100 text-center p-4 text-decoration-none" style="background:rgba(255,255,255,0.95);border-radius:20px;"><div style="font-size:3rem;color:#D4A017;">ğŸ“¦</div><h4 class="fw-bold mt-3 mb-2" style="color:#8B4513;">GESTIÃ“N PRODUCTOS</h4><span class="btn btn-warning w-100 fw-bold">IR AHORA</span></a></div>
            <div class="col-md-6 col-lg-4"><a href="ventas.html" class="card border-0 shadow h-100 text-center p-4 text-decoration-none" style="background:rgba(255,255,255,0.95);border-radius:20px;"><div style="font-size:3rem;color:#28a745;">ğŸ›’</div><h4 class="fw-bold mt-3 mb-2" style="color:#8B4513;">PUNTO DE VENTA</h4><span class="btn btn-success w-100 fw-bold">IR AHORA</span></a></div>
            <div class="col-md-6 col-lg-4"><a href="dashboard.html" class="card border-0 shadow h-100 text-center p-4 text-decoration-none" style="background:rgba(255,255,255,0.95);border-radius:20px;"><div style="font-size:3rem;color:#007bff;">ğŸ“Š</div><h4 class="fw-bold mt-3 mb-2" style="color:#8B4513;">DASHBOARD</h4><span class="btn btn-info text-white w-100 fw-bold">IR AHORA</span></a></div>
            <div class="col-md-6 col-lg-4"><a href="debug.html" class="card border-0 shadow h-100 text-center p-4 text-decoration-none" style="background:rgba(255,255,255,0.95);border-radius:20px;"><div style="font-size:3rem;color:#6c757d;">ğŸ›</div><h4 class="fw-bold mt-3 mb-2" style="color:#8B4513;">PANEL DEBUG</h4><span class="btn btn-secondary w-100 fw-bold">IR AHORA</span></a></div>
        </div>
    </div>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
    <script src="../js/daysManager.js"></script>
    <script>
        // ğŸ“… Handler para reiniciar dÃ­a
        function reiniciarDiaHandler() {
            console.log('ğŸ”„ Llamando a DaysManager.reiniciarDia()...');
            DaysManager.reiniciarDia();
        }

        document.addEventListener('DOMContentLoaded',function(){
            console.log('âœ… admin.html cargado');
            document.getElementById('rolBadge').innerHTML=localStorage.getItem('username').toUpperCase()+'<br><small>ADMIN</small>';
        });

        function logout() {
            if (confirm('Â¿Cerrar sesiÃ³n?')) {
                localStorage.removeItem('userLogged');
                localStorage.removeItem('userRol');
                localStorage.removeItem('username');
                window.location.href = 'index.html';
            }
        }
    </script>
</body>
</html>
